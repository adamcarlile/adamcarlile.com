<header class="absolute inset-x-0 top-0 z-50 px-6">
  <div class="max-w-2xl mx-auto flex lg:justify-center items-start">
    <nav aria-label="Global" class="flex items-start lg:items-center py-5">
    
      <div class="flex gap-x-12 justify-center">
        {% for link in site.navigation %}
          {% assign link_url = link.url | relative_url %}
          {% assign current_url = page.url %}
          {% assign is_active = false %}
          
          {% comment %} Check for exact match {% endcomment %}
          {% if link_url == current_url %}
            {% assign is_active = true %}
          {% endif %}
          
          {% comment %} Check if current page is within the navigation path {% endcomment %}
          {% unless is_active %}
            {% if current_url contains link_url and link_url != '/' %}
              {% assign is_active = true %}
            {% endif %}
          {% endunless %}
          
          {% comment %} Special case for home page - only match exact {% endcomment %}
          {% if link_url == '/' and current_url != '/' %}
            {% assign is_active = false %}
          {% endif %}
          <a href="{{ link_url }}" class="text-md font-semibold text-white py-1 drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,0.8)]{% if is_active %} active{% endif %}">{{ link.title }}</a>
        {% endfor %}
      </div>
    </nav>
  </div>
</header>
